(this["webpackJsonpreact-fundamentos"]=this["webpackJsonpreact-fundamentos"]||[]).push([[0],{83:function(e,t,n){},84:function(e,t,n){},85:function(e,t,n){},94:function(e,t,n){},96:function(e,t,n){},97:function(e,t,n){},98:function(e,t,n){},99:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),i=n(14),s=n.n(i),r=(n(83),n(20)),o=(n(84),n(85),n(128)),l=n(41),d=l.a.initializeApp({apiKey:"AIzaSyCevn13Vl9k56jCo82uP14Xalrgcx7Vo64",authDomain:"login-system-541b2.firebaseapp.com",projectId:"login-system-541b2",storageBucket:"login-system-541b2.appspot.com",messagingSenderId:"492439252294",appId:"1:492439252294:web:44709e9e340d3cd5544947"}),u=l.a.auth(),j=new l.a.auth.GoogleAuthProvider,b=d.firestore(),p=n(23),O="TOGGLE_MENU",h="SET_USER",m="SET_DARKMODE",f=function(e,t){switch(t.type){case O:return Object(p.a)(Object(p.a)({},e),{},{isopen:t.isopen});case h:return Object(p.a)(Object(p.a)({},e),{},{user:t.user});case m:return Object(p.a)(Object(p.a)({},e),{},{darkMode:t.darkMode});default:return e}},x=n(5),v=Object(c.createContext)(),g=function(e){var t=e.reducer,n=e.initialState,a=e.children;return Object(x.jsx)(v.Provider,{value:Object(c.useReducer)(t,n),children:a})},y=function(){return Object(c.useContext)(v)},_=function(){var e=y(),t=Object(r.a)(e,2),n=(t[0].user,t[1]);return Object(x.jsxs)("div",{className:"login",children:[Object(x.jsx)("h1",{children:"Welcome to our Blog App!"}),Object(x.jsx)(o.a,{variant:"contained",color:"primary",onClick:function(){u.signInWithPopup(j).then((function(e){return n({type:h,user:e.user})})).catch((function(e){return alert(e.message)}))},children:"Sign in with Google"})]})},N=(n(94),n(67)),k=n.n(N),C=n(136),S=n(137),E=n(132),B=function(){var e=y(),t=Object(r.a)(e,2),n=t[0],c=n.isopen,a=n.user,i=n.darkMode,s=t[1];return Object(x.jsxs)("div",{className:"header",children:[Object(x.jsx)("div",{className:"header__left",children:Object(x.jsx)(E.a,{onClick:function(){s({type:O,isopen:!c})},children:Object(x.jsx)(k.a,{fontSize:"large"})})}),Object(x.jsxs)("div",{className:"header__right",children:[Object(x.jsx)(C.a,{src:null===a||void 0===a?void 0:a.photoURL}),Object(x.jsx)(S.a,{checked:i,onChange:function(){s({type:m,darkMode:!i})}}),a&&Object(x.jsx)(o.a,{onClick:function(){u.signOut().then((function(e){return s({type:h,user:null})}))},variant:"contained",children:"Sign out"})]})]})},w=(n(96),function(){var e=Object(c.useState)(),t=Object(r.a)(e,2),n=(t[0],t[1]);Object(c.useEffect)((function(){var e=function(e){console.log(e.coords.longitud,e.coords.latitude);var t="https://community-open-weather-map.p.rapidapi.com/find?q=%3CREQUIRED%3E&cnt=0&mode=null&lon=".concat(e.coords.longitud,"&type=link%2C%20accurate&lat=").concat(e.coords.latitude,"&units=metric");fetch(t,{headers:{"x-rapidapi-key":"60294d8dc7mshb3fbb7c4f9056e2p172fb0jsn2ec4e844ca88","x-rapidapi-host":"community-open-weather-map.p.rapidapi.com"}}).then((function(e){return e.json()})).then((function(e){return n(e)})).then((function(e){console.log(e)}))},t=function(e){return console.log(e)};return function(){navigator.geolocation.getCurrentPosition(e,t)}}),[]);var a=y(),i=Object(r.a)(a,2),s=i[0].user;i[1];return Object(x.jsxs)("div",{className:"sidebar",children:[Object(x.jsx)("div",{className:"sidebar__top"}),Object(x.jsxs)("div",{className:"sidebar__bottom",children:[Object(x.jsx)("h4",{children:"Welcome"}),Object(x.jsx)("h4",{children:null===s||void 0===s?void 0:s.displayName})]})]})}),M=(n(97),n(98),n(68)),R=n.n(M),A=n(69),I=n.n(A),T=Object(c.forwardRef)((function(e,t){var n=e.id,c=e.title,a=e.text,i=e.isBlue,s=e.username,o=e.avatar,l=y(),d=Object(r.a)(l,2);d[0].user,d[1];return Object(x.jsxs)("div",{className:"post",ref:t,children:[Object(x.jsxs)("div",{className:"post__body",children:[Object(x.jsxs)("div",{className:"post__bodyLeft",children:[Object(x.jsx)(C.a,{className:"avatar",src:o}),Object(x.jsx)("h2",{children:c}),Object(x.jsx)("h3",{children:a})]}),Object(x.jsx)(E.a,{onClick:function(){b.collection("posts").doc(n).delete()},children:Object(x.jsx)(R.a,{})})]}),Object(x.jsxs)("div",{className:"post__icons",children:[Object(x.jsx)("h3",{children:s}),Object(x.jsx)(E.a,{onClick:function(){var e=b.collection("posts").doc(n);e.get().then((function(t){return e.update({isBlue:!t.data().isBlue})}))},children:Object(x.jsx)(I.a,{color:i?"primary":""})})]})]})})),D=n(135),F=n(70),P=function(){var e=y(),t=Object(r.a)(e,2),n=t[0].user,a=(t[1],Object(c.useState)([])),i=Object(r.a)(a,2),s=i[0],o=i[1],d=Object(c.useState)({title:"",text:""}),u=Object(r.a)(d,2),j=u[0],O=u[1];Object(c.useEffect)((function(){b.collection("posts").orderBy("timestamp","desc").onSnapshot((function(e){return o(e.docs.map((function(e){return{id:e.id,data:e.data()}})))}))}),[]);return Object(x.jsxs)("div",{className:"main",children:[Object(x.jsx)("div",{className:"main_input",children:Object(x.jsx)("form",{noValidate:!0,autoComplete:"off",children:Object(x.jsxs)("div",{className:"main__inputForm",children:[Object(x.jsx)(D.a,{id:"standard-basic",label:"Title",value:j.title,onChange:function(e){return O(Object(p.a)(Object(p.a)({},j),{},{title:e.target.value}))}}),Object(x.jsx)(D.a,{className:"main__inputFormText",id:"outlined-basic",label:"Enter your post here",variant:"outlined",value:j.text,onChange:function(e){return O(Object(p.a)(Object(p.a)({},j),{},{text:e.target.value}))}}),Object(x.jsx)("button",{className:"button",type:"submit",onClick:function(e){e.preventDefault(),j.text?(b.collection("posts").add({title:j.title,text:j.text,username:null===n||void 0===n?void 0:n.displayName,avatar:null===n||void 0===n?void 0:n.photoURL,timestamp:l.a.firestore.FieldValue.serverTimestamp(),isBlue:!1}),O({title:"",text:""})):alert("Add your post here"),console.log(s)}})]})})}),Object(x.jsx)("div",{className:"main__posts",children:Object(x.jsx)(F.a,{children:s.map((function(e){var t=e.id,n=e.data,c=n.title,a=n.text,i=n.isBlue,s=n.username,r=n.avatar;return Object(x.jsx)(T,{id:t,title:c,text:a,isBlue:i,username:s,avatar:r},t)}))})})]})},U=n(71),G=n(133),L=n(134);var V=function(){var e=y(),t=Object(r.a)(e,2),n=t[0],a=n.isopen,i=n.user,s=n.darkMode,o=t[1],l=Object(U.a)({palette:{type:s?"dark":"light"}});return Object(c.useEffect)((function(){u.onAuthStateChanged((function(e){e&&o({type:h,user:e})}))}),[]),Object(x.jsx)("div",{className:"app",children:i?Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)(G.a,{theme:l,children:[Object(x.jsx)(L.a,{}),Object(x.jsx)(B,{}),Object(x.jsxs)("div",{className:"app__central ".concat(a?"displayed":""),children:[Object(x.jsx)(w,{}),Object(x.jsx)(P,{})]})]})}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(B,{}),Object(x.jsx)(_,{})]})})};s.a.render(Object(x.jsx)(a.a.StrictMode,{children:Object(x.jsx)(g,{initialState:{isopen:!1,user:null,darkmode:!1},reducer:f,children:Object(x.jsx)(V,{})})}),document.getElementById("root"))}},[[99,1,2]]]);
//# sourceMappingURL=main.3b1926d2.chunk.js.map